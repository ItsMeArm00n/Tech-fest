<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>AQIntel - Air Pollution Level Predictor</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0a0a0a;
      --bg-secondary: #111111;
      --bg-tertiary: #1a1a1a;
      --text-primary: #ffffff;
      --text-secondary: #bbbbbb;
      --text-tertiary: #888888;
      --accent-color: #2196F3;
      --accent-hover: #1976D2;
      --accent-glow: rgba(33, 150, 243, 0.4);
      --border-color: #333333;
      --shadow-color: rgba(0,0,0,0.5);
      --toggle-blue: #2196F3;
      --toggle-black: #000000;
      --nav-height: 70px;
      --low-color: #2196F3;
      --medium-color: #FFC107;
      --high-color: #F44336;
      --card-radius: 15px;
      --button-radius: 8px;
      --spacing-xs: 5px;
      --spacing-sm: 10px;
      --spacing-md: 15px;
      --spacing-lg: 25px;
      --spacing-xl: 40px;
      --card-bg: rgba(255, 255, 255, 0.05);
      --card-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    body {
      background-color: var(--bg-primary);
      color: var(--text-primary);
      font-family: 'Poppins', sans-serif;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0 0 40px 0;
      overflow-x: hidden;
      position: relative;
    }

    /* Enhanced wind particle system */
    .wind-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .wind-line {
      position: absolute;
      background: linear-gradient(90deg, transparent, rgba(33, 150, 243, 0.3), transparent);
      height: 1px;
      animation: windFlow 8s linear infinite;
      opacity: 0;
    }

    .wind-line:nth-child(odd) {
      animation-duration: 6s;
      background: linear-gradient(90deg, transparent, rgba(33, 150, 243, 0.2), transparent);
    }

    .wind-line:nth-child(3n) {
      animation-duration: 10s;
      background: linear-gradient(90deg, transparent, rgba(33, 150, 243, 0.4), transparent);
      height: 2px;
    }

    @keyframes windFlow {
      0% {
        transform: translateX(-100vw) translateY(0);
        opacity: 0;
        width: 0;
      }
      10% {
        opacity: 1;
        width: 200px;
      }
      90% {
        opacity: 1;
        width: 300px;
      }
      100% {
        transform: translateX(100vw) translateY(-20px);
        opacity: 0;
        width: 100px;
      }
    }

    /* Enhanced floating particles */
    .floating-particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
      overflow: hidden;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: rgba(33, 150, 243, 0.6);
      border-radius: 50%;
      animation: floatParticle 15s linear infinite;
    }

    .particle:nth-child(2n) {
      width: 2px;
      height: 2px;
      background: rgba(33, 150, 243, 0.4);
      animation-duration: 20s;
    }

    .particle:nth-child(3n) {
      width: 6px;
      height: 6px;
      background: rgba(33, 150, 243, 0.3);
      animation-duration: 12s;
    }

    @keyframes floatParticle {
      0% {
        transform: translateY(100vh) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      90% {
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) translateX(100px) rotate(360deg);
        opacity: 0;
      }
    }

    /* Fixed header styles - removed buggy windPush animation */
    header {
      width: 100%;
      background-color: rgba(10, 10, 10, 0.95);
      backdrop-filter: blur(20px);
      box-shadow: 0 4px 20px var(--shadow-color), 0 0 40px rgba(33, 150, 243, 0.1);
      position: fixed;
      top: 0;
      z-index: 100;
      height: var(--nav-height);
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 5%;
      border-bottom: 1px solid rgba(33, 150, 243, 0.1);
    }

    .logo {
      display: flex;
      align-items: center;
      animation: logoFloat 4s ease-in-out infinite;
    }

    .logo-text {
      font-size: 1.8rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent-color), #00bcd4);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-left: 10px;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--accent-color), #00bcd4);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
    }

    @keyframes logoFloat {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-3px);
      }
    }

    /* Fixed navigation styles - improved button hover/click behavior */
    nav ul {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
      gap: 2rem;
    }

    nav ul li a {
      color: var(--text-primary);
      text-decoration: none;
      font-weight: 500;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      cursor: pointer;
      display: block;
    }

    nav ul li a::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(33, 150, 243, 0.2), transparent);
      transition: left 0.5s;
    }

    nav ul li a:hover::before {
      left: 100%;
    }

    nav ul li a:hover,
    nav ul li a.active {
      background: rgba(33, 150, 243, 0.1);
      color: var(--accent-color);
      transform: translateY(-2px);
    }

    /* Enhanced Homepage with wind effects */
    .homepage {
      width: 100%;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: calc(var(--nav-height) - 30px) 20px 20px;
      margin-top: 20px;
      position: relative;
      background: radial-gradient(circle at center, rgba(17, 17, 17, 0.7) 0%, rgba(8, 8, 8, 0.8) 100%);
      overflow: hidden;
    }

    .hero-content {
      max-width: 900px;
      margin: 0 auto;
      padding-top: 40px;
      z-index: 2;
      opacity: 0;
      transform: translateY(50px);
      animation: heroWindEntry 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.5s;
      text-align: center;
    }

    @keyframes heroWindEntry {
      0% {
        opacity: 0;
        transform: translateY(50px) translateX(-20px);
      }
      60% {
        opacity: 0.8;
        transform: translateY(-10px) translateX(5px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) translateX(0);
      }
    }

    .app-icon {
      width: 120px;
      height: 120px;
      background: linear-gradient(135deg, rgba(20, 20, 20, 0.9), rgba(33, 150, 243, 0.1));
      border-radius: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 2px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4),
                  0 0 30px rgba(33, 150, 243, 0.3),
                  inset 0 1px 0 rgba(255, 255, 255, 0.1);
      position: relative;
      animation: windFloat 8s ease-in-out infinite;
      border: 1px solid rgba(33, 150, 243, 0.2);
    }

    @keyframes windFloat {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      25% {
        transform: translateY(-8px) rotate(1deg);
      }
      50% {
        transform: translateY(-15px) rotate(0deg);
      }
      75% {
        transform: translateY(-8px) rotate(-1deg);
      }
    }

    .app-icon::after {
      content: '';
      position: absolute;
      width: 100%;
      height: 30px;
      bottom: -30px;
      left: 0;
      background: radial-gradient(ellipse at top, rgba(33, 150, 243, 0.3), transparent 70%);
      animation: shadowPulse 8s ease-in-out infinite;
    }

    @keyframes shadowPulse {
      0%, 100% {
        opacity: 0.3;
        transform: scale(1);
      }
      50% {
        opacity: 0.6;
        transform: scale(1.1);
      }
    }

    .app-icon svg {
      width: 70px;
      height: 70px;
      stroke: var(--text-primary);
      stroke-width: 2;
      fill: none;
      filter: drop-shadow(0 0 10px rgba(33, 150, 243, 0.3));
    }

    .homepage h1 {
      font-size: 56px;
      font-weight: 700;
      margin-bottom: 25px;
      background: linear-gradient(135deg, var(--text-primary), var(--accent-color), #a0a0a0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      position: relative;
      display: inline-block;
    }

    .homepage h1::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 4px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      animation: underlinePulse 3s ease-in-out infinite;
    }

    @keyframes underlinePulse {
      0%, 100% {
        opacity: 0.6;
        width: 100px;
      }
      50% {
        opacity: 1;
        width: 120px;
      }
    }

    .homepage p {
      font-size: 20px;
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 50px;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Fixed CTA button - removed glitching animations, improved hover behavior */
    .cta-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 18px 40px;
      background: linear-gradient(135deg, var(--accent-color), var(--accent-hover));
      color: white;
      border: none;
      border-radius: var(--button-radius);
      cursor: pointer;
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 20px rgba(33, 150, 243, 0.2);
    }

    .cta-button i {
      margin-left: 12px;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .cta-button:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 35px var(--accent-glow), 0 0 30px rgba(33, 150, 243, 0.4);
    }

    .cta-button:hover i {
      transform: translateX(8px);
    }

    .cta-button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .cta-button:hover::before {
      left: 100%;
    }

    /* Enhanced scroll indicator */
    .scroll-indicator {
      position: absolute;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      color: var(--text-secondary);
      font-size: 28px;
      opacity: 0;
      animation: windBounce 3s infinite, fadeIn 1s forwards 2s;
    }

    @keyframes windBounce {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) translateX(-50%);
      }
      10% {
        transform: translateY(-5px) translateX(-48%);
      }
      30% {
        transform: translateY(-15px) translateX(-52%);
      }
      40% {
        transform: translateY(-25px) translateX(-50%);
      }
      60% {
        transform: translateY(-15px) translateX(-48%);
      }
      70% {
        transform: translateY(-8px) translateX(-52%);
      }
    }

    /* Main Content Styles */
    .main-content {
      width: 100%;
      max-width: 1200px;
      padding: 40px 20px;
      margin-top: 20px;
      display: none;
    }

    h1 {
      font-size: 36px;
      font-weight: 700;
      margin: 40px 0 15px;
      text-align: center;
      background: linear-gradient(135deg, var(--text-primary), var(--accent-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      position: relative;
      display: block;
    }

    h1::after {
      content: '';
      position: absolute;
      bottom: -12px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      animation: titleUnderlinePulse 3s ease-in-out infinite;
    }

    @keyframes titleUnderlinePulse {
      0%, 100% {
        opacity: 0.7;
        width: 80px;
      }
      50% {
        opacity: 1;
        width: 100px;
      }
    }

    p.subtitle {
      font-size: 18px;
      color: var(--text-secondary);
      text-align: center;
      max-width: 700px;
      margin: 0 auto 50px;
      padding: 0 20px;
      line-height: 1.6;
    }

    .container {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      justify-content: center;
      width: 100%;
      max-width: 1200px;
      padding: 0 20px;
      perspective: 1000px;
    }

    /* Expanded card styles for better form UI */
    .card {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 40px;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      width: 100%;
      max-width: 650px;
      position: relative;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .card:hover::before {
      transform: scaleX(1);
    }

    .card:hover {
      transform: translateY(-8px) rotateX(2deg) scale(1.02);
      box-shadow: 0 25px 50px var(--shadow-color), 0 10px 30px var(--accent-glow);
    }

    .card h2 {
      font-size: 28px;
      margin-bottom: 35px;
      text-align: center;
      font-weight: 600;
      position: relative;
      padding-bottom: 20px;
      color: var(--text-primary);
    }

    .card h2::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 3px;
      background: linear-gradient(90deg, var(--accent-color), var(--accent-hover));
      border-radius: 3px;
    }

    /* Enhanced form elements with better spacing and styling */
    label {
      display: block;
      margin: 25px 0 12px;
      font-size: 16px;
      color: var(--text-secondary);
      font-weight: 500;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    input, select {
      width: 100%;
      padding: 18px 20px;
      background-color: var(--bg-tertiary);
      border: 2px solid var(--border-color);
      border-radius: 12px;
      color: var(--text-primary);
      font-size: 16px;
      font-family: 'Poppins', sans-serif;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      margin-bottom: 8px;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2), 0 4px 15px rgba(33, 150, 243, 0.1);
      transform: translateY(-3px);
      background-color: rgba(26, 26, 26, 0.8);
    }

    /* Enhanced button with better hover behavior */
    button {
      margin-top: 40px;
      width: 100%;
      padding: 20px;
      background: linear-gradient(135deg, var(--accent-color), var(--accent-hover));
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-size: 18px;
      font-weight: 600;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2), 0 0 15px rgba(33, 150, 243, 0.2);
    }

    button::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    }

    button:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 10px 30px var(--accent-glow), 0 0 25px rgba(33, 150, 243, 0.3);
    }

    button:hover::before {
      left: 100%;
    }

    button:active {
      transform: translateY(-1px) scale(0.98);
    }

    /* Enhanced table */
    table {
      width: 100%;
      margin-top: 30px;
      border-collapse: collapse;
      background-color: var(--bg-tertiary);
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2), 0 0 15px rgba(33, 150, 243, 0.1);
      animation: tableWindEntry 1.2s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(33, 150, 243, 0.1);
    }

    @keyframes tableWindEntry {
      0% {
        opacity: 0;
        transform: translateY(20px) translateX(-5px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) translateX(0);
      }
    }

    table th, table td {
      border: 1px solid var(--border-color);
      padding: 15px;
      text-align: center;
      font-size: 14px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    table th {
      background: linear-gradient(135deg, #222, rgba(33, 150, 243, 0.1));
      font-weight: 600;
      color: var(--text-primary);
    }

    table td {
      color: var(--text-secondary);
    }

    table tr:hover td {
      background-color: rgba(33, 150, 243, 0.08);
      transform: translateX(2px);
    }

    .footer-note {
      margin-top: 30px;
      text-align: center;
      font-size: 16px;
      color: var(--text-secondary);
      animation: notePulse 3s infinite;
      position: relative;
      padding: 15px;
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(33, 150, 243, 0.05), rgba(33, 150, 243, 0.02));
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 10px rgba(33, 150, 243, 0.1);
      border: 1px solid rgba(33, 150, 243, 0.1);
    }

    @keyframes notePulse {
      0%, 100% {
        opacity: 0.8;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.01);
      }
    }

    .footer-note span {
      color: var(--accent-color);
      font-weight: bold;
      position: relative;
    }

    .footer-note span::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 2px;
      background-color: var(--accent-color);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .footer-note:hover span::after {
      transform: scaleX(1);
      transform-origin: left;
    }

    /* Interface switching */
    .interface {
      width: 100%;
      opacity: 0;
      display: none;
      transform: translateY(30px);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .interface.active {
      opacity: 1;
      display: block;
      transform: translateY(0);
      animation: interfaceWindEntry 1s cubic-bezier(0.4, 0, 0.2, 1);
    }

    @keyframes interfaceWindEntry {
      0% {
        opacity: 0;
        transform: translateY(30px) translateX(-10px);
      }
      60% {
        opacity: 0.8;
        transform: translateY(-5px) translateX(3px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) translateX(0);
      }
    }

    .img-container {
      margin: 30px 0;
      text-align: center;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3), 0 0 15px rgba(33, 150, 243, 0.1);
      position: relative;
      border: 1px solid rgba(33, 150, 243, 0.1);
    }

    .img-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(33, 150, 243, 0.2), transparent);
      opacity: 0;
      transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .img-container:hover::before {
      opacity: 1;
    }

    .img-container img {
      max-width: 100%;
      height: auto;
      display: block;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .img-container:hover img {
      transform: scale(1.05);
    }

    /* Enhanced popup with smooth animations */
    #popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, rgba(0,0,0,0.9), rgba(0,0,0,0.95));
      backdrop-filter: blur(10px);
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      perspective: 1000px;
    }

    #popup.active {
      opacity: 1;
    }

    .popup-content {
      background: linear-gradient(135deg, var(--bg-secondary), rgba(33, 150, 243, 0.05));
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      max-width: 550px;
      width: 90%;
      box-shadow: 0 25px 60px rgba(0,0,0,0.6), 
                  0 0 40px rgba(33, 150, 243, 0.3),
                  inset 0 1px 0 rgba(255, 255, 255, 0.1);
      transform: scale(0.7) rotateX(15deg) translateY(50px);
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      margin: 20px;
      border: 2px solid rgba(33, 150, 243, 0.2);
      max-height: 85vh;
      overflow-y: auto;
      position: relative;
    }

    #popup.active .popup-content {
      transform: scale(1) rotateX(0) translateY(0);
    }

    .popup-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(33, 150, 243, 0.05), transparent);
      opacity: 0;
      transition: opacity 0.6s;
      pointer-events: none;
      border-radius: 20px;
    }

    .popup-content:hover::before {
      opacity: 1;
    }

    .popup-title {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 8px;
      color: white;
      position: relative;
      display: inline-block;
      animation: titleWindGlow 4s ease-in-out infinite;
    }

    @keyframes titleWindGlow {
      0%, 100% {
        text-shadow: 0 0 10px rgba(33, 150, 243, 0.3);
      }
      50% {
        text-shadow: 0 0 20px rgba(33, 150, 243, 0.5);
      }
    }

    .popup-title-underline {
      width: 80px;
      height: 4px;
      background: linear-gradient(90deg, transparent, var(--accent-color), transparent);
      margin: 15px auto 30px;
      animation: underlineWindPulse 3s infinite;
      border-radius: 2px;
    }

    @keyframes underlineWindPulse {
      0%, 100% {
        opacity: 0.7;
        width: 80px;
        transform: translateX(0);
      }
      50% {
        opacity: 1;
        width: 100px;
        transform: translateX(1px);
      }
    }

    .popup-subtitle {
      font-size: 20px;
      color: white;
      margin-bottom: 15px;
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.3s;
    }

    @keyframes fadeInWind {
      0% {
        opacity: 0;
        transform: translateY(10px) translateX(-5px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) translateX(0);
      }
    }

    .pollution-level {
      font-size: 32px;
      font-weight: 600;
      margin: 20px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.5s;
    }

    .level-indicator {
      width: 24px;
      height: 24px;
      border-radius: 6px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.3), 0 0 30px currentColor;
      animation: indicatorWindPulse 3s infinite;
    }

    @keyframes indicatorWindPulse {
      0%, 100% {
        transform: scale(1);
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.3), 0 0 30px currentColor;
      }
      50% {
        transform: scale(1.1);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.4), 0 0 40px currentColor;
      }
    }

    .pollution-meter {
      width: 100%;
      height: 24px;
      background: linear-gradient(to right, var(--low-color) 33%, var(--medium-color) 33% 66%, var(--high-color) 66%);
      border-radius: 12px;
      margin: 30px 0 8px;
      position: relative;
      box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.3), 0 0 15px rgba(33, 150, 243, 0.2);
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.7s;
      overflow: hidden;
      border: 1px solid rgba(33, 150, 243, 0.2);
    }

    .pollution-meter.advanced {
      background: linear-gradient(to right, 
        #2196F3 0% 16.67%, 
        #4CAF50 16.67% 33.33%, 
        #FFC107 33.33% 50%, 
        #FF9800 50% 66.67%, 
        #F44336 66.67% 83.33%, 
        #9C27B0 83.33% 100%);
    }

    .pollution-meter::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      animation: meterWindShimmer 3s infinite;
    }

    @keyframes meterWindShimmer {
      0% {
        transform: translateX(-100%);
      }
      100% {
        transform: translateX(100%);
      }
    }

    .meter-marker {
      position: absolute;
      top: 0;
      width: 6px;
      height: 24px;
      background: linear-gradient(180deg, white, rgba(255, 255, 255, 0.8));
      transform: translateX(-50%);
      box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
      z-index: 1;
      animation: markerWindPulse 2s infinite;
      border-radius: 3px;
    }

    @keyframes markerWindPulse {
      0%, 100% {
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 0 0 30px rgba(255, 255, 255, 0.4);
        transform: translateX(-50%) scale(1);
      }
      50% {
        box-shadow: 0 0 25px rgba(255, 255, 255, 1), 0 0 50px rgba(255, 255, 255, 0.6);
        transform: translateX(-50%) scale(1.1);
      }
    }

    .meter-labels {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      color: var(--text-secondary);
      font-size: 14px;
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 0.9s;
    }

    .meter-labels.advanced {
      font-size: 12px;
    }

    .aqi-info {
      margin: 25px 0;
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 1.1s;
      padding: 15px;
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(33, 150, 243, 0.05));
      border: 1px solid rgba(33, 150, 243, 0.1);
    }

    .aqi-title {
      color: var(--text-secondary);
      font-size: 16px;
      margin-bottom: 8px;
    }

    .aqi-value {
      font-size: 26px;
      font-weight: 600;
      color: white;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      animation: valueWindGlow 4s ease-in-out infinite;
    }

    @keyframes valueWindGlow {
      0%, 100% {
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }
      50% {
        text-shadow: 0 2px 15px rgba(33, 150, 243, 0.4);
      }
    }

    .health-note {
      background: linear-gradient(135deg, #222, rgba(33, 150, 243, 0.1));
      padding: 20px;
      border-radius: 12px;
      text-align: left;
      margin: 25px 0;
      line-height: 1.6;
      font-size: 14px;
      color: white;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2), 0 0 15px rgba(33, 150, 243, 0.1);
      border-left: 4px solid var(--accent-color);
      opacity: 0;
      animation: noteWindEntry 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 1.3s;
      border: 1px solid rgba(33, 150, 243, 0.2);
    }

    @keyframes noteWindEntry {
      0% {
        opacity: 0;
        transform: translateY(15px) translateX(-5px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) translateX(0);
      }
    }

    .health-note i {
      color: var(--accent-color);
      margin-right: 10px;
      filter: drop-shadow(0 0 5px rgba(33, 150, 243, 0.3));
    }

    .health-advice {
      background: linear-gradient(135deg, #1a1a1a, rgba(33, 150, 243, 0.05));
      padding: 18px;
      border-radius: 12px;
      text-align: left;
      margin: 20px 0;
      border-left: 4px solid var(--accent-color);
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 1.5s;
      border: 1px solid rgba(33, 150, 243, 0.1);
    }

    .advice-title {
      font-weight: 600;
      color: var(--accent-color);
      margin-bottom: 10px;
      font-size: 15px;
    }

    .advice-text {
      color: var(--text-secondary);
      font-size: 13px;
      line-height: 1.5;
    }

    .ai-badge {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(135deg, #222, rgba(33, 150, 243, 0.1));
      padding: 8px 15px;
      border-radius: 25px;
      margin-top: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2), 0 0 10px rgba(33, 150, 243, 0.2);
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 1.5s;
      border: 1px solid rgba(33, 150, 243, 0.2);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .ai-badge:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 20px rgba(33, 150, 243, 0.3);
    }

    .ai-badge i {
      color: var(--accent-color);
      margin-right: 10px;
      animation: iconWindSpin 6s linear infinite;
    }

    @keyframes iconWindSpin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    .ai-badge span {
      font-size: 13px;
      color: var(--text-secondary);
    }

    .close-btn {
      width: 100%;
      padding: 16px;
      background: linear-gradient(135deg, var(--accent-color), var(--accent-hover));
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      margin-top: 20px;
      opacity: 0;
      animation: fadeInWind 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards 1.7s;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2), 0 0 15px rgba(33, 150, 243, 0.2);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .close-btn:hover {
      background: linear-gradient(135deg, var(--accent-hover), var(--accent-color));
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 12px 35px var(--accent-glow);
    }

    /* Enhanced loading animation */
    .loader {
      display: inline-block;
      width: 40px;
      height: 40px;
      border: 4px solid rgba(255,255,255,.2);
      border-radius: 50%;
      border-top-color: var(--accent-color);
      animation: loaderWindSpin 1.2s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      margin: 0 auto;
      box-shadow: 0 0 20px rgba(33, 150, 243, 0.3);
      position: relative;
    }

    @keyframes loaderWindSpin {
      0% {
        transform: rotate(0deg) scale(1);
      }
      50% {
        transform: rotate(180deg) scale(1.1);
      }
      100% {
        transform: rotate(360deg) scale(1);
      }
    }

    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      margin: 30px 0;
      animation: loadingWindPulse 2s infinite;
    }

    @keyframes loadingWindPulse {
      0%, 100% {
        opacity: 0.8;
        transform: scale(1);
      }
      50% {
        opacity: 1;
        transform: scale(1.02);
      }
    }

    .loading-text {
      font-size: 18px;
      color: var(--text-secondary);
      position: relative;
    }

    .loading-text::after {
      content: '...';
      position: absolute;
      animation: ellipsisWind 2s infinite;
    }

    @keyframes ellipsisWind {
      0% { content: '.'; }
      25% { content: '..'; }
      50% { content: '...'; }
      75% { content: '..'; }
      100% { content: '.'; }
    }

    /* Error message */
    .error-message {
      color: #f44336;
      background: linear-gradient(135deg, rgba(244, 67, 54, 0.1), rgba(244, 67, 54, 0.05));
      padding: 12px;
      border-radius: 10px;
      margin-top: 20px;
      font-size: 14px;
      display: none;
      border-left: 4px solid #f44336;
      animation: errorWindShake 0.6s ease;
      border: 1px solid rgba(244, 67, 54, 0.2);
    }

    @keyframes errorWindShake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-3px); }
      20%, 40%, 60%, 80% { transform: translateX(3px); }
    }

    /* Enhanced animated background */
    .bg-animation {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      overflow: hidden;
    }

    .bg-animation span {
      position: absolute;
      display: block;
      width: 20px;
      height: 20px;
      background: rgba(33, 150, 243, 0.06);
      animation: bgWindAnimate 30s linear infinite;
      bottom: -150px;
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(33, 150, 243, 0.2);
    }

    .bg-animation span:nth-child(1) {
      left: 10%;
      width: 80px;
      height: 80px;
      animation-delay: 0s;
      animation-duration: 18s;
    }

    .bg-animation span:nth-child(2) {
      left: 20%;
      width: 30px;
      height: 30px;
      animation-delay: 2s;
      animation-duration: 28s;
    }

    .bg-animation span:nth-child(3) {
      left: 35%;
      width: 100px;
      height: 100px;
      animation-delay: 4s;
      animation-duration: 22s;
    }

    .bg-animation span:nth-child(4) {
      left: 50%;
      width: 150px;
      height: 150px;
      animation-delay: 0s;
      animation-duration: 20s;
    }

    .bg-animation span:nth-child(5) {
      left: 65%;
      width: 40px;
      height: 40px;
      animation-delay: 0s;
      animation-duration: 16s;
    }

    .bg-animation span:nth-child(6) {
      left: 75%;
      width: 110px;
      height: 110px;
      animation-delay: 3s;
      animation-duration: 14s;
    }

    .bg-animation span:nth-child(7) {
      left: 90%;
      width: 50px;
      height: 50px;
      animation-delay: 7s;
      animation-duration: 26s;
    }

    @keyframes bgWindAnimate {
      0% {
        transform: translateY(0) rotate(0deg) translateX(0);
        opacity: 0.1;
        border-radius: 50%;
      }
      10% {
        opacity: 0.3;
      }
      90% {
        opacity: 0.1;
      }
      100% {
        transform: translateY(-1200px) rotate(720deg) translateX(200px);
        opacity: 0;
        border-radius: 50%;
      }
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes fadeInUp {
      from { 
        opacity: 0; 
        transform: translateY(30px);
      }
      to { 
        opacity: 1; 
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% { opacity: 0.7; }
      50% { opacity: 1; }
      100% { opacity: 0.7; }
    }

    /* Mobile Menu */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 24px;
      cursor: pointer;
      margin: 0;
      padding: 8px;
      z-index: 101;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .mobile-menu-btn:hover {
      color: var(--accent-color);
      transform: scale(1.1);
    }

    /* Video Background */
    .video-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.6;
      z-index: -1;
      filter: brightness(0.6) contrast(1.3) hue-rotate(200deg);
    }

    /* Added floating demo window styles */
    .floating-demo {
      position: relative;
      margin: 40px auto;
      width: 100%;
      max-width: 800px;
      background: var(--card-bg);
      border-radius: 20px;
      padding: 20px;
      box-shadow: var(--card-shadow);
      border: 1px solid var(--border-color);
      backdrop-filter: blur(10px);
      z-index: 10;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: demoFloat 6s ease-in-out infinite;
    }

    @keyframes demoFloat {
      0%, 100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-5px);
      }
    }

    .floating-demo.pulse-red {
      animation: pulseRed 2s ease-in-out infinite, demoFloat 6s ease-in-out infinite;
    }

    @keyframes pulseRed {
      0%, 100% {
        box-shadow: var(--card-shadow);
      }
      50% {
        box-shadow: 0 15px 40px rgba(244, 67, 54, 0.4), 0 0 20px rgba(244, 67, 54, 0.3);
        border-color: rgba(244, 67, 54, 0.5);
      }
    }

    .demo-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 15px;
    }

    .demo-model-name {
      font-size: 16px;
      font-weight: 600;
      color: var(--accent-color);
    }

    .demo-live-indicator {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 12px;
      color: var(--text-secondary);
    }

    .demo-live-dot {
      width: 8px;
      height: 8px;
      background: var(--accent-color);
      border-radius: 50%;
      animation: livePulse 2s ease-in-out infinite;
    }

    @keyframes livePulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.3;
      }
    }

    .demo-inputs {
      margin-bottom: 15px;
    }

    .demo-inputs h4 {
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 8px;
      font-weight: 500;
    }

    .demo-input-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      font-size: 12px;
    }

    .demo-input-item {
      display: flex;
      justify-content: space-between;
      color: var(--text-secondary);
      padding: 4px 0;
    }

    .demo-input-value {
      color: var(--text-primary);
      font-weight: 500;
    }

    .demo-output {
      border-top: 1px solid var(--border-color);
      padding-top: 15px;
    }

    .demo-output h4 {
      font-size: 14px;
      color: var(--text-primary);
      margin-bottom: 8px;
      font-weight: 500;
    }

    .demo-aqi-result {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255, 255, 255, 0.03);
      padding: 12px;
      border-radius: 10px;
      border: 1px solid var(--border-color);
    }

    .demo-aqi-value {
      font-size: 24px;
      font-weight: 700;
      color: var(--text-primary);
    }

    .demo-aqi-classification {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      text-transform: uppercase;
    }

    .demo-aqi-classification.low { background: rgba(33, 150, 243, 0.2); color: #2196F3; }
    .demo-aqi-classification.moderate { background: rgba(255, 193, 7, 0.2); color: #FFC107; }
    .demo-aqi-classification.high { background: rgba(244, 67, 54, 0.2); color: #F44336; }
    .demo-aqi-classification.good { background: rgba(76, 175, 80, 0.2); color: #4CAF50; }
    .demo-aqi-classification.satisfactory { background: rgba(139, 195, 74, 0.2); color: #8BC34A; }
    .demo-aqi-classification.poor { background: rgba(255, 152, 0, 0.2); color: #FF9800; }
    .demo-aqi-classification.very-poor { background: rgba(255, 87, 34, 0.2); color: #FF5722; }
    .demo-aqi-classification.severe { background: rgba(244, 67, 54, 0.2); color: #F44336; }

    /* Model insights button styles */
    .insights-btn {
      background: linear-gradient(135deg, var(--accent-color), #00bcd4);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.95rem;
    }

    .insights-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(33, 150, 243, 0.3);
    }

    /* Modal/Popup styles */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: var(--card-bg);
      margin: 5% auto;
      padding: 30px;
      border-radius: 20px;
      width: 90%;
      max-width: 800px;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
      border: 1px solid var(--border-color);
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .close {
      color: var(--text-secondary);
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .close:hover {
      color: var(--accent-color);
    }

    /* Model selection popup styles */
    .model-selection {
      display: flex;
      gap: 20px;
      margin-top: 20px;
      flex-wrap: wrap;
    }

    .model-option {
      flex: 1;
      min-width: 200px;
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      border-radius: 15px;
      padding: 25px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .model-option:hover {
      border-color: var(--accent-color);
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(33, 150, 243, 0.2);
    }

    .model-option h3 {
      color: var(--accent-color);
      margin-bottom: 10px;
    }

    .model-option p {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.5;
    }

    /* Enhanced homepage styles */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin: 60px 0;
      padding: 0 5%;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(33, 150, 243, 0.1);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(33, 150, 243, 0.2);
    }

    .feature-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, var(--accent-color), #00bcd4);
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
      font-size: 1.5rem;
      color: white;
    }

    .stats-section {
      background: rgba(255, 255, 255, 0.03);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      margin: 40px 5%;
      text-align: center;
    }

    /* Fixed stats grid to display in horizontal row (4 columns) instead of 2x2 grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 30px;
      margin-top: 30px;
    }

    .stat-item {
      padding: 20px;
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--accent-color);
      display: block;
    }

    .stat-label {
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-top: 5px;
    }

    /* Fixed footer positioning to stay at bottom of page */
    .footer {
      background: linear-gradient(135deg, rgba(10, 10, 10, 0.95), rgba(20, 20, 20, 0.95));
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(33, 150, 243, 0.1);
      padding: 40px 5%;
      margin-top: auto;
      color: var(--text-primary);
      width: 100%;
      position: relative;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
    }

    .footer-section h3 {
      color: var(--accent-color);
      margin-bottom: 15px;
      font-size: 1.2rem;
    }

    .footer-section p,
    .footer-section a {
      color: var(--text-secondary);
      text-decoration: none;
      line-height: 1.6;
      transition: color 0.3s ease;
    }

    .footer-section a:hover {
      color: var(--accent-color);
    }

    .footer-bottom {
      text-align: center;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid rgba(33, 150, 243, 0.1);
      color: var(--text-secondary);
    }

    /* Responsive adjustments */
    @media (max-width: 992px) {
      .homepage h1 {
        font-size: 44px;
      }
      
      .homepage p {
        font-size: 18px;
      }
      
      .app-icon {
        width: 100px;
        height: 100px;
      }
      
      .app-icon svg {
        width: 60px;
        height: 60px;
      }

      /* Stats grid responsive - wrap to 2x2 on medium screens */
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 768px) {
      header {
        padding: 0 20px;
      }
      
      .mobile-menu-btn {
        display: block;
      }
      
      nav {
        position: fixed;
        top: var(--nav-height);
        left: 0;
        width: 100%;
        background-color: rgba(17, 17, 17, 0.98);
        backdrop-filter: blur(20px);
        padding: 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        transform: translateX(0);
        border-bottom: 1px solid rgba(33, 150, 243, 0.1);
      }
      
      nav.active {
        max-height: 350px;
        box-shadow: 0 15px 30px rgba(0,0,0,0.3);
      }
      
      nav ul {
        flex-direction: column;
        padding: 25px;
      }
      
      nav ul li {
        margin: 12px 0;
        animation: none;
      }
      
      .model-toggle-container {
        margin-left: auto;
      }
      
      .homepage h1 {
        font-size: 36px;
      }
      
      .homepage p {
        font-size: 16px;
      }
      
      .app-icon {
        width: 90px;
        height: 90px;
      }
      
      .app-icon svg {
        width: 50px;
        height: 50px;
      }
      
      .popup-content {
        padding: 30px;
        margin: 15px;
      }
      
      .popup-title {
        font-size: 24px;
      }

      .floating-demo {
        width: calc(100% - 40px);
        margin: 30px 20px;
      }
      
      .demo-input-grid {
        grid-template-columns: 1fr;
      }

      /* Stats grid responsive - single column on mobile */
      .stats-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }
    }

    @media (max-width: 480px) {
      .homepage h1 {
        font-size: 30px;
      }
      
      .homepage p {
        font-size: 15px;
      }
      
      .cta-button {
        padding: 15px 30px;
        font-size: 16px;
      }
      
      .popup-content {
        padding: 25px;
        margin: 10px;
      }
      
      .card {
        padding: 25px;
      }
    }
  </style>
</head>

<body>
  <div class="wind-particles" id="windParticles"></div>
  <div class="floating-particles" id="floatingParticles"></div>

  <div class="bg-animation">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>


  <header>
    <div class="logo">
      <div class="logo-icon">
        <i class="fas fa-wind"></i>
      </div>
      <span class="logo-text">AQIntel</span>
    </div>
    
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    
    <nav id="mainNav">
      <ul>
        <li><a href="#" class="active" data-page="home">Home</a></li>
        <li><a href="#" data-page="basic">Basic Predictor</a></li>
        <li><a href="#" data-page="advanced">Advanced Predictor</a></li>
        <li><a href="#" data-page="insights">About Me</a></li>
      </ul>
    </nav>
    
    <div class="model-toggle-container">
      <div class="model-toggle" id="modelToggle">
        <div class="toggle-slider"></div>
      </div>
    </div>
  </header>

   Homepage 
  <section class="homepage" id="homePage">
    <video class="video-bg" autoplay muted loop playsinline>
      <source src="https://res.cloudinary.com/ddmsobczr/video/upload/v1745867873/background_zuyrbp.mp4" type="video/mp4">
    </video>
    <div class="hero-content">
      <div class="app-icon">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M3 7C3 6.44772 3.44772 6 4 6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H4C3.44772 8 3 7.55228 3 7Z" />
          <path d="M3 12C3 11.4477 3.44772 11 4 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H4C3.44772 13 3 12.5523 3 12Z" />
          <path d="M3 17C3 16.4477 3.44772 16 4 16H20C20.5523 16 21 16.4477 21 17C21 17.5523 20.5523 18 20 18H4C3.44772 18 3 17.5523 3 17Z" />
        </svg>
      </div>
      <h1>Welcome to AQIntel!</h1>
      <p>Your smart companion for monitoring and understanding air quality. Get real-time insights, health tips, and stay informed with AQI predictions powered by AI. Experience the future of environmental intelligence with stunning wind-like animations and professional design.</p>
      <a href="#" class="cta-button" id="predictNowBtn">Predict Now <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="floating-demo" id="floatingDemo">
      <div class="demo-header">
        <div class="demo-model-name" id="demoModelName">Basic Model</div>
        <div class="demo-live-indicator">
          <div class="demo-live-dot"></div>
          <span>LIVE DEMO</span>
        </div>
      </div>
      
      <div class="demo-inputs">
        <h4>Input Parameters</h4>
        <div class="demo-input-grid" id="demoInputGrid">
           Dynamic content will be inserted here 
        </div>
      </div>
      
      <div class="demo-output">
        <h4>Predicted Output</h4>
        <div class="demo-aqi-result">
          <div class="demo-aqi-value" id="demoAqiValue">85</div>
          <div class="demo-aqi-classification low" id="demoAqiClass">Low</div>
        </div>
      </div>
    </div>

    <div class="stats-section">
      <h2>Trusted by Environmental Professionals</h2>
      <div class="stats-grid">
        <div class="stat-item">
          <span class="stat-number">97%</span>
          <span class="stat-label">Model Accuracy</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">50K+</span>
          <span class="stat-label">Predictions Made</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">24/7</span>
          <span class="stat-label">Real-Time Monitoring</span>
        </div>
        <div class="stat-item">
          <span class="stat-number">15+</span>
          <span class="stat-label">Environmental Parameters</span>
        </div>
      </div>
    </div>
  </section>
 
  <div class="main-content" id="mainContent">
    <div id="basicInterface" class="interface active">
      <h1>Basic Air Pollution Predictor</h1>
      <p class="subtitle">Get quick air quality predictions using simple environmental parameters with beautiful wind-like animations.</p>
      
      <div class="container">
        <div class="card">
          <h2>Input Parameters</h2>
          <form id="basicForm">
            <label for="traffic">Traffic Level</label>
            <select id="traffic" name="traffic">
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>

            <label for="indus">Industrial Activity</label>
            <select id="indus" name="indus">
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>

            <label for="temp">Temperature (C)</label>
            <input type="number" id="temp" name="temp" placeholder="Enter temperature, e.g., 28" step="any">

            <label for="humidity">Humidity (%)</label>
            <input type="number" id="humidity" name="humidity" placeholder="Enter humidity, e.g., 70" step="any">

            <label for="tree">Tree Density</label>
            <input type="number" id="tree" name="tree" placeholder="Number of trees per unit area" step="any">

            <button type="submit">Predict</button>
            <div class="error-message" id="basicError"></div>
          </form>
          
         
          <button class="insights-btn" onclick="openModal('basicInsightsModal')">
            <i class="fas fa-chart-bar"></i>
            View Model Insights
          </button>
        </div>
      </div>
    </div>
    
    <div id="advancedInterface" class="interface">
      <h1>Advanced Air Pollution Predictor</h1>
      <p class="subtitle">Our advanced model provides a more precise prediction using detailed air quality parameters and environmental factors with enhanced visual animations.</p>
      
      <div class="container">
        <div class="card">
          <h2>Input Parameters</h2>
          <form id="advancedForm">
            <label for="pm25">PM2.5 (g/m)</label>
            <input type="number" id="pm25" name="pm25" placeholder="Enter PM2.5 concentration" required step="any">

            <label for="pm10">PM10 (g/m)</label>
            <input type="number" id="pm10" name="pm10" placeholder="Enter PM10 concentration" required step="any">

            <label for="no2">Nitrogen Dioxide (NO) (g/m)</label>
            <input type="number" id="no2" name="no2" placeholder="Enter NO concentration" required step="any">

            <label for="so2">Sulfur Dioxide (SO) (g/m)</label>
            <input type="number" id="so2" name="so2" placeholder="Enter SO concentration" required step="any">

            <label for="co">Carbon Monoxide (CO) (mg/m)</label>
            <input type="number" id="co" name="co" placeholder="Enter CO concentration" required step="any">

            <label for="o3">Ozone (O) (g/m)</label>
            <input type="number" id="o3" name="o3" placeholder="Enter O concentration" required step="any">

            <button type="submit">Predict</button>
            <div class="error-message" id="advancedError"></div>
          </form>
          
            
          <button class="insights-btn" onclick="openModal('advancedInsightsModal')">
            <i class="fas fa-chart-line"></i>
            View Model Performance
          </button>
        </div>
      </div>
    </div>

    <div id="insightsPage" class="interface">
      <h1>About Me</h1>
      <div class="container">
        <div class="card" style="text-align: center; padding: 60px 30px;">
          <h2 style="color: var(--accent-color); margin-bottom: 20px;">More info coming soon</h2>
          <p style="color: var(--text-secondary); font-size: 1.1rem;">Stay tuned for updates and additional information.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="modelSelectionModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('modelSelectionModal')">&times;</span>
      <h2 style="color: var(--accent-color); margin-bottom: 20px;">Choose Your Prediction Model</h2>
      <p style="color: var(--text-secondary); margin-bottom: 30px;">Select the model that best fits your needs:</p>
      
      <div class="model-selection">
        <div class="model-option" onclick="selectModel('basic')">
          <h3>Basic Predictor</h3>
          <p>Quick predictions using simple environmental parameters. Perfect for general air quality assessment with 97% accuracy.</p>
          <div style="margin-top: 15px; color: var(--accent-color); font-weight: 600;">
            <i class="fas fa-tachometer-alt"></i> Fast & Simple
          </div>
        </div>
        
        <div class="model-option" onclick="selectModel('advanced')">
          <h3>Advanced Predictor</h3>
          <p>Detailed analysis using comprehensive pollutant data. Ideal for professional environmental monitoring with precise AQI values.</p>
          <div style="margin-top: 15px; color: var(--accent-color); font-weight: 600;">
            <i class="fas fa-microscope"></i> Detailed & Precise
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="basicInsightsModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('basicInsightsModal')">&times;</span>
      <h2 style="color: var(--accent-color); margin-bottom: 20px;">Basic Model Insights</h2>
      
      <table>
        <thead>
          <tr>
            <th>Class</th>
            <th>Precision</th>
            <th>Recall</th>
            <th>F1-Score</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Low</td>
            <td>87%</td>
            <td>92%</td>
            <td>89%</td>
          </tr>
          <tr>
            <td>Medium</td>
            <td>81%</td>
            <td>70%</td>
            <td>84%</td>
          </tr>
          <tr>
            <td>High</td>
            <td>91%</td>
            <td>91%</td>
            <td>91%</td>
          </tr>
        </tbody>
      </table>
      
      <div class="img-container">
        <img src="confusion_matrix.jpeg" alt="Confusion Matrix">
      </div>
      
      <div class="footer-note">
         Overall, the model is <span>97% accurate</span>!
      </div>
    </div>
  </div>

  <div id="advancedInsightsModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('advancedInsightsModal')">&times;</span>
      <h2 style="color: var(--accent-color); margin-bottom: 20px;">Advanced Model Performance</h2>
      
      <table>
        <thead>
          <tr>
            <th>Metric</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Mean Absolute Error (MAE)</td>
            <td>0.8529697051810579</td>
          </tr>
          <tr>
            <td>Root Mean Squared Error (RMSE)</td>
            <td>5.670697244554414</td>
          </tr>
          <tr>
            <td>R Score</td>
            <td>0.9959149177856698</td>
          </tr>
        </tbody>
      </table>
      
      <div class="img-container">
        <img src="download.jpeg" alt="Scatter Plot">
      </div>
      
      <div class="footer-note">
         This model achieves a strong <span>91% Accuracy</span>
      </div>
      <div class="footer-note">   
        Errors are minimal !!!
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>AQIntel</h3>
        <p>Advanced air quality prediction powered by artificial intelligence. Making environmental data accessible and actionable for everyone.</p>
      </div>
      
      <div class="footer-section">
        <h3>Features</h3>
        <p><a href="#" onclick="openModal('modelSelectionModal')">AI Predictions</a></p>
        <p><a href="#" data-page="basic">Basic Predictor</a></p>
        <p><a href="#" data-page="advanced">Advanced Predictor</a></p>
        <p><a href="#" data-page="insights">About Me</a></p>
      </div>
      
      <div class="footer-section">
        <h3>Resources</h3>
        <p><a href="https://colab.research.google.com/drive/14IsYvG6o-OVv7KsDKwmPMDuJ5kZMvIZ3?usp=sharing" target="_blank">Model Development</a></p>
        <p><a href="#">Placeholder</a></p>
        <p><a href="#">Placeholder</a></p>
        <p><a href="#">Placeholder</a></p>
      </div>
      

    </div>
    
    <div class="footer-bottom">
      <p>&copy; 2024 AQIntel. All rights reserved. | Powered by AI for a cleaner future.</p>
    </div>
  </footer>

  <div id="popup">
    <div class="popup-content">
      <div class="popup-title">Model's Predictions</div>
      <div class="popup-title-underline"></div>
      
      <div id="popupLoading" class="loading-container">
        <div class="loader"></div>
        <div class="loading-text">AI model is analyzing data</div>
      </div>
      
      <div id="popupContent"></div>
      
      <div class="ai-badge">
        <i class="fas fa-robot"></i>
        <span>Powered by AI Model</span>
      </div>
      
      <button class="close-btn" onclick="closePopup()">Close</button>
    </div>
  </div>
  
  <script>
    // Generate wind particles
    function createWindParticles() {
      const windContainer = document.getElementById('windParticles');
      const floatingContainer = document.getElementById('floatingParticles');
      
      // Create wind lines
      for (let i = 0; i < 15; i++) {
        const windLine = document.createElement('div');
        windLine.className = 'wind-line';
        windLine.style.top = Math.random() * 100 + '%';
        windLine.style.animationDelay = Math.random() * 8 + 's';
        windLine.style.animationDuration = (6 + Math.random() * 4) + 's';
        windContainer.appendChild(windLine);
      }
      
      // Create floating particles
      for (let i = 0; i < 25; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 15 + 's';
        particle.style.animationDuration = (12 + Math.random() * 8) + 's';
        floatingContainer.appendChild(particle);
      }
    }
    
    // Initialize wind particles on page load
    document.addEventListener('DOMContentLoaded', createWindParticles);

    // DOM Elements
    const modelToggle = document.getElementById('modelToggle');
    const basicInterface = document.getElementById('basicInterface');
    const advancedInterface = document.getElementById('advancedInterface');
    const insightsPage = document.getElementById('insightsPage');
    const homePage = document.getElementById('homePage');
    const mainContent = document.getElementById('mainContent');
    const popup = document.getElementById('popup');
    const popupContent = document.getElementById('popupContent');
    const popupLoading = document.getElementById('popupLoading');
    const basicError = document.getElementById('basicError');
    const advancedError = document.getElementById('advancedError');
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const mainNav = document.getElementById('mainNav');
    const predictNowBtn = document.getElementById('predictNowBtn');
    const navLinks = document.querySelectorAll('nav ul li a');
    
    // Mobile Menu Toggle
    mobileMenuBtn.addEventListener('click', function() {
      mainNav.classList.toggle('active');
      this.innerHTML = mainNav.classList.contains('active') 
        ? '<i class="fas fa-times"></i>' 
        : '<i class="fas fa-bars"></i>';
    });
    
    // Navigation
    navLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        
        // Update active link
        navLinks.forEach(l => l.classList.remove('active'));
        this.classList.add('active');
        
        // Close mobile menu if open
        mainNav.classList.remove('active');
        mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
        
        // Show appropriate page
        const page = this.getAttribute('data-page');
        
        if (page === 'home') {
          homePage.style.display = 'flex';
          mainContent.style.display = 'none';
          basicInterface.classList.remove('active');
          advancedInterface.classList.remove('active');
          insightsPage.classList.remove('active');
        } else {
          homePage.style.display = 'none';
          mainContent.style.display = 'block';
          
          // Hide all interfaces
          basicInterface.classList.remove('active');
          advancedInterface.classList.remove('active');
          insightsPage.classList.remove('active');
          
          // Show selected interface
          if (page === 'basic') {
            basicInterface.classList.add('active');
            modelToggle.classList.remove('advanced');
          } else if (page === 'advanced') {
            advancedInterface.classList.add('active');
            modelToggle.classList.add('advanced');
          } else if (page === 'insights') {
            insightsPage.classList.add('active');
          }
        }
      });
    });
    
    predictNowBtn.addEventListener('click', function(e) {
      e.preventDefault();
      openModal('modelSelectionModal');
    });
    
    // Toggle Switch Functionality
    modelToggle.addEventListener('click', function() {
      this.classList.toggle('advanced');
      
      // Only toggle between basic and advanced if we're in the predictor pages
      if (homePage.style.display === 'none') {
        if (this.classList.contains('advanced')) {
          basicInterface.classList.remove('active');
          insightsPage.classList.remove('active');
          
          // Update active nav link
          navLinks.forEach(l => l.classList.remove('active'));
          document.querySelector('nav ul li a[data-page="advanced"]').classList.add('active');
          
          setTimeout(() => {
            advancedInterface.classList.add('active');
          }, 300);
        } else {
          advancedInterface.classList.remove('active');
          insightsPage.classList.remove('active');
          
          // Update active nav link
          navLinks.forEach(l => l.classList.remove('active'));
          document.querySelector('nav ul li a[data-page="basic"]').classList.add('active');
          
          setTimeout(() => {
            basicInterface.classList.add('active');
          }, 300);
        }
      }
    });

    // Basic Form Submission
    document.getElementById('basicForm').addEventListener('submit', function (e) {
      e.preventDefault();
      basicError.style.display = 'none';

      // Get form values
      const traffic = document.getElementById('traffic').value;
      const industry = document.getElementById('indus').value;
      const temperature = document.getElementById('temp').value;
      const humidity = document.getElementById('humidity').value;
      const tree = document.getElementById('tree').value;

      // Validate inputs
      if (!temperature || !humidity || !tree) {
        basicError.textContent = "Please fill in all fields";
        basicError.style.display = 'block';
        return;
      }

      // Show loading popup
      showLoadingPopup();
      
      // Prepare data for API
      const payload = {
        input1: traffic,
        input2: industry,
        input3: temperature,
        input4: humidity,
        input5: tree
      };

      // Call API
      fetch('https://api-thing-model-1.onrender.com/predict', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.json();
      })
      .then(data => {
        // Process the prediction result
        if (data.error) {
          throw new Error(data.error);
        }
        
        // Format the prediction result
        let level = data.prediction.toUpperCase();
        let range = "";
        
        if (level === "LOW") {
          range = "0-50";
        } else if (level === "MODERATE") {
          range = "51-100";
        } else if (level === "HIGH") {
          range = "101-150+";
        }
        
        // Display result
        displayPredictionResult({
          prediction: {
            level: level,
            range: range,
            isBasic: true
          }
        });
      })
      .catch(error => {
        basicError.textContent = `Error: ${error.message}`;
        basicError.style.display = 'block';
        closePopup();
      });
    });

    // Advanced Form Submission with new API
    const advancedForm = document.getElementById('advancedForm');

    advancedForm.addEventListener('submit', async function (e) {
      e.preventDefault();
      advancedError.style.display = 'none';

      // Get values
      const pm25 = document.getElementById('pm25').value;
      const pm10 = document.getElementById('pm10').value;
      const no2 = document.getElementById('no2').value;
      const so2 = document.getElementById('so2').value;
      const co = document.getElementById('co').value;
      const o3 = document.getElementById('o3').value;

      if (!pm25 || !pm10 || !no2 || !so2 || !co || !o3) {
        advancedError.textContent = "Please fill in all fields";
        advancedError.style.display = 'block';
        return;
      }

      try {
        showLoadingPopup();

        // Call your new API directly
        const response = await fetch("https://ItsMeArm00n-Advanced.hf.space/predict", {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            pm25: Number(pm25),
            pm10: Number(pm10),
            no2: Number(no2),
            so2: Number(so2),
            co: Number(co),
            o3: Number(o3)
          })
        });

        if (!response.ok) throw new Error("Network error");

        const data = await response.json();
        console.log("Raw result from API:", data);

        const aqiValue = Number(data.aqi);

        // Categorize AQI
        let category = "";
        if (aqiValue <= 50) {
          category = "GOOD";
        } else if (aqiValue <= 100) {
          category = "SATISFACTORY";
        } else if (aqiValue <= 200) {
          category = "MODERATELY_POLLUTED";
        } else if (aqiValue <= 300) {
          category = "POOR";
        } else if (aqiValue <= 400) {
          category = "VERY_POOR";
        } else {
          category = "SEVERE";
        }

        displayPredictionResult({
          prediction: {
            level: category,
            aqi: aqiValue.toFixed(1),
            range: "",
            isBasic: false
          }
        });
      } catch (error) {
        advancedError.textContent = `Error: ${error.message}`;
        advancedError.style.display = 'block';
        closePopup();
      }
    });

    // Display prediction result in popup
    function displayPredictionResult(result) {
      // Hide loading indicator after a short delay to ensure it's seen
      setTimeout(() => {
        popupLoading.style.display = 'none';
        
        // Get prediction data
        const prediction = result.prediction;
        const level = prediction.level;
        const color = getPollutionColor(level);
        
        let meterPosition, note, noteIcon, meterClass = "", labelsClass = "";
        
        if (prediction.isBasic) {
          // Basic model logic (3 levels)
          if (level === "MODERATE") {
            meterPosition = "50%";
          } else if (level === "HIGH") {
            meterPosition = "83.5%";
          } else {
            meterPosition = "16.5%"; // LOW
          }
          
          // Basic model notes
          if (level === "LOW") {
            note = "Air quality is good and safe for everyone, including sensitive groups like children and elderly people with respiratory issues. You can enjoy outdoor activities freely.";
            noteIcon = "";
          } else if (level === "MODERATE") {
            note = "Air quality is moderately polluted. It may be acceptable for the general public, but sensitive individuals (like children, elderly, and people with respiratory or heart conditions) should consider limiting prolonged outdoor exposure.";
            noteIcon = "";
          } else if (level === "HIGH") {
            note = "Air quality is considered unhealthy. Everyone may begin to experience health effects. Sensitive groups should stay indoors, and even healthy individuals are advised to reduce outdoor exertion.";
            noteIcon = "";
          }
        } else {
          // Advanced model logic (6 levels)
          meterClass = "advanced";
          labelsClass = "advanced";
          
          const advancedLevels = {
            "GOOD": { position: "8.33%", icon: "", color: "#2196F3" },
            "SATISFACTORY": { position: "25%", icon: "", color: "#4CAF50" },
            "MODERATELY_POLLUTED": { position: "41.67%", icon: "", color: "#FFC107" },
            "POOR": { position: "58.33%", icon: "", color: "#FF9800" },
            "VERY_POOR": { position: "75%", icon: "", color: "#F44336" },
            "SEVERE": { position: "91.67%", icon: "", color: "#9C27B0" }
          };
          
          const levelData = advancedLevels[level] || advancedLevels["GOOD"];
          meterPosition = levelData.position;
          noteIcon = levelData.icon;
          
          // Advanced model detailed descriptions
          const advancedDescriptions = {
            "GOOD": {
              impact: "Minimal or no risk. Air quality is considered safe for the general population.",
              advice: "Ideal conditions for outdoor activities, exercise, and normal daily routines."
            },
            "SATISFACTORY": {
              impact: "Air quality is acceptable. However, very sensitive individuals (children, elderly, those with respiratory issues) may experience slight discomfort.",
              advice: "Safe for most people. Sensitive groups may consider reducing prolonged outdoor exertion."
            },
            "MODERATELY_POLLUTED": {
              impact: "May cause mild breathing discomfort for people with lung diseases (e.g., asthma) and mild cardiovascular strain. Children and elderly may also be affected.",
              advice: "Sensitive groups should reduce prolonged outdoor activity. General population may remain unaffected but should stay alert."
            },
            "POOR": {
              impact: "Prolonged exposure may cause breathing discomfort even in healthy individuals and more noticeable issues for those with heart or lung conditions.",
              advice: "Limit outdoor exertion, especially for sensitive groups. Use masks or stay indoors in high-traffic or polluted areas."
            },
            "VERY_POOR": {
              impact: "Increased likelihood of respiratory illness for the general public on prolonged exposure. Severe effects for people with lung/heart disease.",
              advice: "Everyone should reduce outdoor physical activities. Sensitive groups should avoid going outdoors entirely."
            },
            "SEVERE": {
              impact: "Hazardous conditions. Healthy people may experience serious health effects, and individuals with lung/heart disease face very high risk. Even light outdoor activity may cause health problems.",
              advice: "Stay indoors, keep windows closed, and use air purifiers if possible. Outdoor activities should be avoided completely. Emergency health precautions are recommended."
            }
          };
          
          const description = advancedDescriptions[level] || advancedDescriptions["GOOD"];
          note = `<div class="advice-title">Impact:</div><div class="advice-text">${description.impact}</div><div class="advice-title" style="margin-top: 10px;">Advice:</div><div class="advice-text">${description.advice}</div>`;
        }
        
        let html = `
          <div class="popup-subtitle">Air Pollution Level:</div>
          <div class="pollution-level" style="color: ${color}">
            ${level.replace(/_/g, ' ')} <div class="level-indicator" style="background-color: ${color}"></div>
          </div>
          
          <div class="pollution-meter ${meterClass}">
            <div class="meter-marker" style="left: ${meterPosition}"></div>
          </div>
          
          <div class="meter-labels ${labelsClass}">
            ${prediction.isBasic ? 
              '<span>Low</span><span>Medium</span><span>High</span>' : 
              '<span>Good</span><span>Satisfactory</span><span>Moderate</span><span>Poor</span><span>Very Poor</span><span>Severe</span>'
            }
          </div>
          
          <div class="aqi-info">
            <div class="aqi-title">${prediction.isBasic ? 'Approximate AQI range:' : 'AQI Value:'}</div>
            <div class="aqi-value">${prediction.isBasic ? prediction.range : prediction.aqi}</div>
          </div>
          
          <div class="${prediction.isBasic ? 'health-note' : 'health-advice'}">
            ${noteIcon} ${note}
          </div>
        `;
        
        // Set content and show popup
        popupContent.innerHTML = html;
        popupContent.style.display = 'block';
      }, 2000); // Show loading for 2 seconds for better UX
    }

    // Show loading popup
    function showLoadingPopup() {
      popupContent.style.display = 'none';
      popupLoading.style.display = 'flex';
      popup.style.display = 'flex';
      
      // Add animation
      setTimeout(() => {
        popup.classList.add('active');
      }, 10);
    }

    // Close popup
    function closePopup() {
      popup.classList.remove('active');
      
      setTimeout(() => {
        popup.style.display = 'none';
        // Reset popup state
        popupLoading.style.display = 'none';
        popupContent.style.display = 'block';
      }, 500);
    }

    function getPollutionColor(level) {
      switch(level) {
        case "LOW":
        case "GOOD":
          return "#2196F3";
        case "SATISFACTORY":
          return "#4CAF50";
        case "MODERATE":
        case "MODERATELY_POLLUTED":
          return "#FFC107";
        case "POOR":
          return "#FF9800";
        case "HIGH":
        case "VERY_POOR":
          return "#F44336";
        case "SEVERE":
          return "#9C27B0";
        default:
          return "#2196F3";
      }
    }

    // Add animations to form inputs
    const inputs = document.querySelectorAll('input, select');
    inputs.forEach(input => {
      input.addEventListener('focus', function() {
        this.parentElement.querySelector('label').style.color = '#2196F3';
      });
      
      input.addEventListener('blur', function() {
        this.parentElement.querySelector('label').style.color = '';
      });
    });

    // Page load animations
    document.addEventListener('DOMContentLoaded', function() {
      const cards = document.querySelectorAll('.card');
      cards.forEach((card, index) => {
        setTimeout(() => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        }, 300 * (index + 1));
      });
    });

    // Make sure error messages are properly initialized
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize error messages
      basicError.style.display = 'none';
      advancedError.style.display = 'none';
    });

    function openModal(modalId) {
      document.getElementById(modalId).style.display = 'block';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    function selectModel(modelType) {
      closeModal('modelSelectionModal');
      
      // Navigate to selected model
      homePage.style.display = 'none';
      mainContent.style.display = 'block';
      
      // Update active nav link
      navLinks.forEach(l => l.classList.remove('active'));
      document.querySelector(`nav ul li a[data-page="${modelType}"]`).classList.add('active');
      
      // Show selected interface
      if (modelType === 'basic') {
        basicInterface.classList.add('active');
        advancedInterface.classList.remove('active');
        insightsPage.classList.remove('active');
        modelToggle.classList.remove('advanced');
      } else {
        advancedInterface.classList.add('active');
        basicInterface.classList.remove('active');
        insightsPage.classList.remove('active');
        modelToggle.classList.add('advanced');
      }
    }

    window.onclick = function(event) {
      const modals = document.querySelectorAll('.modal');
      modals.forEach(modal => {
        if (event.target === modal) {
          modal.style.display = 'none';
        }
      });
    }

    const floatingDemo = document.getElementById('floatingDemo');
    const demoModelName = document.getElementById('demoModelName');
    const demoInputGrid = document.getElementById('demoInputGrid');
    const demoAqiValue = document.getElementById('demoAqiValue');
    const demoAqiClass = document.getElementById('demoAqiClass');

    // Demo cases data
    const demoCases = [
      // Basic Model Cases
      {
        model: 'Basic Model',
        inputs: {
          'Traffic Level': 'Moderate',
          'Industrial Activity': 'Low',
          'Temperature': '25C',
          'Humidity': '65%',
          'Tree Density': '120/unit'
        },
        output: { value: '80-100', classification: 'Low' }
      },
      {
        model: 'Basic Model',
        inputs: {
          'Traffic Level': 'High',
          'Industrial Activity': 'Moderate',
          'Temperature': '32C',
          'Humidity': '45%',
          'Tree Density': '80/unit'
        },
        output: { value: '150-180', classification: 'Moderate' }
      },
      {
        model: 'Basic Model',
        inputs: {
          'Traffic Level': 'High',
          'Industrial Activity': 'High',
          'Temperature': '38C',
          'Humidity': '30%',
          'Tree Density': '40/unit'
        },
        output: { value: '250-300', classification: 'High' }
      },
      // Advanced Model Cases
      {
        model: 'Advanced Model',
        inputs: {
          'PM2.5': '35 g/m',
          'PM10': '60 g/m',
          'NO': '40 g/m',
          'SO': '15 g/m',
          'CO': '1.2 mg/m',
          'O': '120 g/m'
        },
        output: { value: '89', classification: 'Satisfactory' }
      },
      {
        model: 'Advanced Model',
        inputs: {
          'PM2.5': '75 g/m',
          'PM10': '120 g/m',
          'NO': '80 g/m',
          'SO': '35 g/m',
          'CO': '2.8 mg/m',
          'O': '180 g/m'
        },
        output: { value: '165', classification: 'Moderate' }
      },
      {
        model: 'Advanced Model',
        inputs: {
          'PM2.5': '150 g/m',
          'PM10': '280 g/m',
          'NO': '120 g/m',
          'SO': '80 g/m',
          'CO': '4.5 mg/m',
          'O': '240 g/m'
        },
        output: { value: '315', classification: 'Severe' }
      }
    ];

    let currentCaseIndex = 0;

    function updateDemoWindow() {
      const currentCase = demoCases[currentCaseIndex];
      
      // Update model name
      demoModelName.textContent = currentCase.model;
      
      // Update inputs
      demoInputGrid.innerHTML = '';
      Object.entries(currentCase.inputs).forEach(([key, value]) => {
        const inputItem = document.createElement('div');
        inputItem.className = 'demo-input-item';
        inputItem.innerHTML = `
          <span>${key}:</span>
          <span class="demo-input-value">${value}</span>
        `;
        demoInputGrid.appendChild(inputItem);
      });
      
      // Update output
      demoAqiValue.textContent = currentCase.output.value;
      demoAqiClass.textContent = currentCase.output.classification;
      
      // Update classification styling
      demoAqiClass.className = 'demo-aqi-classification';
      const classification = currentCase.output.classification.toLowerCase().replace(' ', '-');
      demoAqiClass.classList.add(classification);
      
      // Apply red pulse for High or Severe classifications
      if (currentCase.output.classification === 'High' || currentCase.output.classification === 'Severe') {
        floatingDemo.classList.add('pulse-red');
      } else {
        floatingDemo.classList.remove('pulse-red');
      }
      
      // Move to next case
      currentCaseIndex = (currentCaseIndex + 1) % demoCases.length;
    }

    // Initialize demo window
    updateDemoWindow();
    
    // Update demo every 4 seconds
    setInterval(updateDemoWindow, 4000);
  </script>
</body>
</html>
